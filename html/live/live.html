<!DOCTYPE html>
<html>

<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="../flowplayer-3.2.13.min.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="livetheme.css" />
<title>Georgia Tech Streaming</title>
</head>
<body>
<h1 id="streamName"></h1>

<div class="wrapper">
	<div class="sixteen-by-nine-aspect-ratio"></div>
	<div id="player"></div>
</div>


<p id="streaminfo"></p>

<script type="text/javascript">
/*m = location.href.match(/^http:\/\/([a-zA-Z0-9._-]+):[0-9]+\/live\/(.*)$/);*/

m = location.href.match(/^http:\/\/([a-zA-Z0-9._-]+)\/live\/(.*)$/);

host = m[1];
name = m[2];

function capitaliseFirstLetter(string)
{
    return string.charAt(0).toUpperCase() + string.slice(1);
}
function addApostrophe(string)
{
	if (string.charAt(string.length - 1).toLowerCase() == "s") {
		return string + '\'';
	} else {
		return string + '\'s';
	}
}



//document.getElementById("streaminfo").innerHTML = "Streaming: <b>rtmp://" + host + ":80/live/" + name + "</b>";


document.getElementById("streamName").innerHTML = addApostrophe(capitaliseFirstLetter(name)) + " Stream";

flowplayer("player", "../flowplayer-3.2.18.swf", {
	clip: {
		url: name,
		live: true,
		scaling: "fit",
		provider: "rtmp",
		bufferLength: 0
	},
	canvas: {
		backgroundGradient: 'none',
		backgroundColor: '#000000'
	},

    plugins: {
	controls: {
        	url: '../flowplayer.controls-3.2.16.swf',
        	height: 25,
		time: false,
		backgroundGradient: 'none',
		backgroundColor: '#000000',
		opacity: 0.6,
		scrubber: false,
		volumeColor: '#248AFF'
        },

	rtmp: {
            url: "../flowplayer.rtmp-3.2.13.swf",
            netConnectionUrl: "rtmp://" + host + ":10200/live"
        }
    }
});


</script>
<!--
<a id="backbutton" href="http://gtstreams.com">Back</a>
-->
</body>

</html>


